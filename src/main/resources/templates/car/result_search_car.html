<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Search results</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>

<body>

<header th:replace="fragments/header::header"></header>
<main>

    <div class="col d-flex justify-content-center">
        <div class="card w-75 p-3">
            <div class="card-header">
                <h2>Search results</h2>
            </div>
            <table class="table table-striped table-hover table-light ">
                <thead>
                <tr>
                    <th scope="col">
                        <a th:href="@{'/car/search/result_search_car/page/' + ${currentPage} + '?sortField=name&sortDir=' + ${reverseSortDir}}">
                            Name</a></th>
                    <th scope="col">
                        <a th:href="@{'/car/search/result_search_car/page/' + ${currentPage} + '?sortField=rate&sortDir=' + ${reverseSortDir}}">
                            Rate per day $</a></th>
                    <th scope="col">
                        <a th:href="@{'/car/search/result_search_car/page/' + ${currentPage} + '?sortField=brand&sortDir=' + ${reverseSortDir}}">
                            Brand</a></th>
                    <th scope="col">
                        <a th:href="@{'/car/search/result_search_car/page/' + ${currentPage} + '?sortField=modelYear&sortDir=' + ${reverseSortDir}}">
                            Year of fabrication</a></th>
                    <th scope="col">
                        <a th:href="@{'/car/search/result_search_car/page/' + ${currentPage} + '?sortField=carType&sortDir=' + ${reverseSortDir}}">
                            Type of Car</a></th>
                    <th scope="col">
                        <a th:href="@{'/car/search/result_search_car/page/' + ${currentPage} + '?sortField=color&sortDir=' + ${reverseSortDir}}">
                            Color</a></th>
                    <th scope="col">
                        <a th:href="@{'/car/search/result_search_car/page/' + ${currentPage} + '?sortField=seatingCapacity&sortDir=' + ${reverseSortDir}}">
                            Seating Capacity</a></th>
                </tr>
                </thead>
                <tbody th:each="car : ${cars}">
                <td th:text="${car.name}"></td>
                <td th:text="${car.rate}"></td>
                <td th:text="${car.brand}"></td>
                <td th:text="${car.modelYear}"></td>
                <td th:text="${car.carType}"></td>
                <td th:text="${car.color}"></td>
                <td th:text="${car.seatingCapacity}"></td>
                <td><a class="btn btn-primary" th:href="@{/car/search/booking/__${car.id}__}">Book Car</a></td>

                <!--<td th:text="${juez.apellidoP}"></td>
                <td th:text="${juez.apellidoM}"></td>
                <td><a class="btn btn-dark" th:href="@{/menujuez/eliminar/__${juez.id}__}">Eliminar</a></td>
                <td><a class="btn btn-primary" th:href="@{/menujuez/actualizar/(juezId=${juez.id})}">Actualizar</a></td>-->
                </tbody>
            </table>
            <div class="card-footer">
                <a class="return" th:href="@{/search}">Return</a>
            </div>
            <div th:if = "${totalPages > 1}">
                <div class = "row col-sm-10">
                    <div class = "col-sm-2">
                        Total Rows: [[${totalItems}]]
                    </div>
                    <div class = "col-sm-1">
					<span th:each="i: ${#numbers.sequence(1, totalPages)}">
						<a th:if="${currentPage != i}" th:href="@{'/car/search/result_search_car/page/' + ${i}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">[[${i}]]</a>
						<span th:unless="${currentPage != i}">[[${i}]]</span>  &nbsp; &nbsp;
					</span>
                    </div>
                    <div class = "col-sm-1">
                        <a th:if="${currentPage < totalPages}" th:href="@{'/car/search/result_search_car/page/' + ${currentPage + 1}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Next</a>
                        <span th:unless="${currentPage < totalPages}">Next</span>
                    </div>

                    <div class="col-sm-1">
                        <a th:if="${currentPage < totalPages}" th:href="@{'/car/search/result_search_car/page/' + ${totalPages}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Last</a>
                        <span th:unless="${currentPage < totalPages}">Last</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

</main>
<footer th:replace="fragments/footer::footer"></footer>
</body>

</html>